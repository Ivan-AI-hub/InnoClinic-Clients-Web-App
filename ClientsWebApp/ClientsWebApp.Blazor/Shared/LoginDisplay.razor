@using ClientsWebApp.Blazor.Components.Identity
@inject NavigationManager Navigation

<AuthorizeView>
    <Authorized>
        Welcome!
        <a href="/logout">Sign out</a>
    </Authorized>
    <NotAuthorized>

        <MudButton Color="Color.Primary" @onclick="OpenLoginModal">Sign in</MudButton>
        <MudButton Color="Color.Primary" @onclick="OpenRegisterModal">Sign up</MudButton>
    </NotAuthorized>
</AuthorizeView>

@code {
    [CascadingParameter] public IModalService Modal { get; set; }

    private void OpenLoginModal()
    {
        var options = new ModalOptions()
            {
                HideCloseButton = false,
                DisableBackgroundCancel = false
            };
        Modal.Show<LoginForm>("Sign in", options);
    }

    private void OpenRegisterModal()
    {
        var options = new ModalOptions()
            {
                HideCloseButton = false,
                DisableBackgroundCancel = false
            };
        Modal.Show<Register>("Sign up", options);
    }
}

