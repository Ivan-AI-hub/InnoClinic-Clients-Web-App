@inject NavigationManager Navigation
@inject IStringLocalizer<Localization> Loc

<AuthorizeView>
    <Authorized>
        @Loc.GetString(LocalizationType.Greeting)
        <a href="/logout">Sign out</a>
    </Authorized>
    <NotAuthorized>
        <button class="btn btn-primary m-2" @onclick="OpenLoginModal">@Loc.GetString(LocalizationType.SignInTitle)</button>
        <button class="btn btn-primary m-2" @onclick="OpenRegisterModal">@Loc.GetString(LocalizationType.SignUpTitle)</button>
    </NotAuthorized>
</AuthorizeView>

@code {
    [CascadingParameter] public IModalService Modal { get; set; }

    private void OpenLoginModal()
    {
        var options = new ModalOptions()
        {
            HideCloseButton = false
        };
        Modal.Show<Login>(@Loc.GetString(LocalizationType.SignInTitle).Value, options);
    }

    private void OpenRegisterModal()
    {
        var options = new ModalOptions()
        {
            HideCloseButton = false
        };
        Modal.Show<Register>(@Loc.GetString(LocalizationType.SignUpTitle).Value, options);
    }
}

